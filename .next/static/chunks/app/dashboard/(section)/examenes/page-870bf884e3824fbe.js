(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var a=t(5155);t(2115);var r=t(9708),n=t(2085),l=t(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:n,asChild:c=!1,...d}=e,o=c?r.Slot:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,l.cn)(i({variant:t,size:n,className:s})),...d})}},1243:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1863:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),r=t(2115),n=t(2523),l=t(285),i=t(7580),c=t(7434);let d=(0,t(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var o=t(7924),m=t(1243),u=t(2355),x=t(3052);let h=e=>{try{return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}catch(s){return console.error("Error al formatear fecha:",s),e}};async function p(e,s){try{let t=await fetch("".concat("http://p1-77815598.us-east-1.elb.amazonaws.com:5002","/resumen/").concat(e,"/").concat(s));if(t.ok)return await t.json();throw Error("Error al obtener resumen de ".concat(e," (").concat(t.status,")"))}catch(s){return console.error("Error en obtenerResumen de ".concat(e,":"),s),null}}function f(){let[e,s]=(0,r.useState)(null),[t,f]=(0,r.useState)(!1),[b,j]=(0,r.useState)(""),[y,N]=(0,r.useState)("medico"),[k,w]=(0,r.useState)(null),A=async()=>{if(b.trim()){f(!0),s(null),w(null);try{let e=await p(y,Number(b));e?s(e):w("No se encontr\xf3 el ".concat(y," con el ID proporcionado"))}catch(e){console.error("Error en b\xfasqueda",e),w("Ocurri\xf3 un error al buscar el ".concat(y))}finally{f(!1)}}},[M,_]=(0,r.useState)(0),z=e?e.consultas:[],D=z.slice(5*M,(M+1)*5),E=Math.ceil(z.length/5),S=(e,s)=>"medico"===s?e.paciente_nombre?"".concat(e.paciente_nombre," (ID: ").concat(e.paciente_id,")"):"ID: ".concat(e.paciente_id):e.nombre_medico;return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["medico"===y?(0,a.jsx)(i.A,{className:"w-6 h-6 text-primary"}):(0,a.jsx)(c.A,{className:"w-6 h-6 text-primary"}),(0,a.jsxs)("h1",{className:"text-2xl font-bold",children:["Resumen de ","medico"===y?"M\xe9dico":"Paciente"]})]})}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Busca el resumen de un ","medico"===y?"m\xe9dico":"paciente"," por su ID."]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.$,{variant:"medico"===y?"default":"outline",onClick:()=>{N("medico"),s(null),w(null)},className:"flex gap-2 items-center",children:[(0,a.jsx)(i.A,{className:"w-4 h-4"}),"M\xe9dico"]}),(0,a.jsxs)(l.$,{variant:"paciente"===y?"default":"outline",onClick:()=>{N("paciente"),s(null),w(null)},className:"flex gap-2 items-center",children:[(0,a.jsx)(d,{className:"w-4 h-4"}),"Paciente"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"relative flex flex-1 sm:flex-initial items-center",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)(n.p,{placeholder:"Buscar ".concat("medico"===y?"m\xe9dico":"paciente"," por ID"),value:b,onChange:e=>j(e.target.value),onKeyPress:e=>{"Enter"===e.key&&A()},className:"pl-10 w-full sm:w-64",type:"number",min:"1"})]}),(0,a.jsx)(l.$,{onClick:A,variant:"default",children:"Buscar"})]})]}),k&&(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative mt-4",role:"alert",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-red-500"}),(0,a.jsx)("span",{children:k})]}),t?(0,a.jsx)("div",{className:"mt-6 space-y-2",children:[...Array(10)].map((e,s)=>(0,a.jsx)("div",{className:"h-10 w-full bg-gray-200 animate-pulse rounded"},s))}):e&&(0,a.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-background border rounded-lg p-6 flex flex-col sm:flex-row items-center gap-6",children:[(0,a.jsx)("div",{className:"bg-gray-100 rounded-full p-4 mb-4 sm:mb-0",children:(0,a.jsx)(d,{className:"w-20 h-20 text-gray-500"})}),(0,a.jsx)("div",{children:"medico"===y?(0,a.jsx)(g,{medico:e.medico}):(0,a.jsx)(v,{paciente:e.paciente})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Historial de Consultas"}),z.length>0?(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3 text-left",children:"Fecha"}),"medico"===y?(0,a.jsx)("th",{className:"p-3 text-left",children:"Paciente"}):(0,a.jsx)("th",{className:"p-3 text-left",children:"M\xe9dico"}),(0,a.jsx)("th",{className:"p-3 text-left",children:"Descripci\xf3n"})]})}),(0,a.jsx)("tbody",{children:D.map((e,s)=>(0,a.jsxs)("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-3",children:h(e.fecha)}),(0,a.jsx)("td",{className:"p-3",children:S(e,y)}),(0,a.jsx)("td",{className:"p-3",children:e.descripcion})]},s))})]})}):(0,a.jsx)("div",{className:"text-center py-8 border rounded-lg bg-gray-50",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No hay consultas registradas."})}),z.length>0&&E>1&&(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsxs)(l.$,{onClick:()=>_(e=>Math.max(0,e-1)),disabled:0===M,variant:"outline",size:"sm",className:"gap-1",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"})," Anterior"]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["P\xe1gina ",M+1," de ",E]}),(0,a.jsxs)(l.$,{onClick:()=>_(e=>e+1<E?e+1:e),disabled:M>=E-1,variant:"outline",size:"sm",className:"gap-1",children:["Siguiente ",(0,a.jsx)(x.A,{className:"h-4 w-4"})]})]})]})]})]})}function g(e){let{medico:s}=e;return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold mb-2 text-center sm:text-left",children:[s.nombre," ",s.apellido||""]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"ID:"})," ",s.id]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Especialidad:"})," ",s.especialidad]})]})]}):null}function v(e){let{paciente:s}=e;return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-2 text-center sm:text-left",children:s.nombre}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"ID:"})," ",s.id]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"DNI:"})," ",s.dni]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Fecha Nacimiento:"})," ",h(s.fecha_nac)]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Sexo:"})," ",s.sexo]})]})]}):null}},2355:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2523:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var a=t(5155);t(2115);var r=t(9434);function n(e){let{className:s,type:t,...n}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},3052:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7434:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7580:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7784:(e,s,t)=>{Promise.resolve().then(t.bind(t,1863))},7924:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var a=t(2596),r=t(9688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[455,441,684,358],()=>s(7784)),_N_E=e.O()}]);